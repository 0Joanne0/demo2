## Base EMPLOIS-INNOVATIONS
<div class="graph-section">
  <h2>Caractères </h2>
  <p>This graph shows the relationship between X and Y variables.</p>
```{r,echo=FALSE, warning=FALSE, message=FALSE}

# Load the required library
library(readr)
library(dplyr)
library(kableExtra)

# Read the base_emp_inno dataset
base_emp_inno <- read_delim(
  "data/base_emp_inno.csv",  # Path to the CSV file
  delim = ";",              # Delimiter used in the CSV file
  col_names = TRUE,         # Use the first row as column names
  col_types = cols(
    .default = "c",         # Treat all columns as character by default
    n_patents = "n",        # Parse 'n_patents' as numeric
    n_offres = "n",         # Parse 'n_offres' as numeric
    avg_wage = "n"          # Parse 'avg_wage' as numeric
  ),
  trim_ws = TRUE            # Trim whitespace from character strings
)

summary_stats_brevets <- base_emp_inno |> 
  summarise(minimum = min(n_patents, na.rm = TRUE),
            médiane = median(n_patents, na.rm = TRUE),
            maximum = max(n_patents, na.rm = TRUE),
            moyenne = mean(n_patents, na.rm = TRUE),
            `écart-type` = sd(n_patents, na.rm = TRUE),
            `nombre de manquants` = sum(is.na(n_patents))) |> 
  mutate(Variable = "n_patents") |> 
  relocate(Variable)


summary_stats_offre <- base_emp_inno |> 
  summarise(minimum = min(n_offres, na.rm = TRUE),
            médiane = median(n_offres, na.rm = TRUE),
            maximum = max(n_offres, na.rm = TRUE),
            moyenne = mean(n_offres, na.rm = TRUE),
            `écart-type` = sd(n_offres, na.rm = TRUE),
            `nombre de manquants` = sum(is.na(n_offres))) |> 
  mutate(Variable = "n_offres") |> 
  relocate(Variable)

summary_stats_wage <- base_emp_inno |> 
  summarise(minimum = min(avg_wage, na.rm = TRUE),
            médiane = median(avg_wage, na.rm = TRUE),
            maximum = max(avg_wage, na.rm = TRUE),
            moyenne = mean(avg_wage, na.rm = TRUE),
            `écart-type` = sd(avg_wage, na.rm = TRUE),
            `nombre de manquants` = sum(is.na(avg_wage))) |> 
  mutate(Variable = "avg_wage") |> 
  relocate(Variable)

summary_stats_all <- bind_rows(summary_stats_brevets, 
                               summary_stats_offre, 
                               summary_stats_wage)

colnames(summary_stats_all) <- c("Variables", "Minimum", "Médiane", "Maximum", 
                                 "Moyenne", "Écart-type", "Nombre de manquants")

kable(summary_stats_all, 
      format = "html", 
      col.names = c("Variables", "Minimum", "Médiane", "Maximum", "Moyenne", 
                    "Écart-type", "Nombre de manquants")) |> 
  kable_styling(full_width = TRUE, 
                position = "center", 
                bootstrap_options = c("striped", "hover", "condensed", 
                                      "responsive", "bordered")) |> 
  column_spec(1, background = "#d4e1e1", color = "#406f71", bold = TRUE) |> 
  row_spec(0, background = "#406f71", color = "white", bold = TRUE)

```
</div> 

